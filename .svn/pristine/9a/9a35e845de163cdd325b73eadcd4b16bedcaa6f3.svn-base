<ion-view view-title="持仓单" class="light positionIndex-view">

  <ion-nav-bar class="app-index-header">

    <ion-nav-buttons side="left">
      <a class="button button-icon icon ion-ios-arrow-left light" ng-click=""></a>
    </ion-nav-buttons>

  </ion-nav-bar>

  <ion-content class="">

    <div class="myPositionDiv">

      <!--总盈亏-->
      <div class="item" style="font-size: 1.8rem; margin: 3% 0%">
        <span class="pull-left">总盈亏：{{my.totalProfitOrLoss}}元</span>
        <button class="pull-right" ng-click="closeAll()" ng-show="!my.hadCloseAll">一键平仓</button>
        <button class="pull-right"  style="background-color: #676767" disabled ng-show="my.hadCloseAll">已平仓</button>
      </div>

      <!--持仓单 数据-->
      <div style="position: relative; max-height: 40rem; overflow-y: scroll;">
        <div class="item row" ng-repeat="d in list">
          <a class="col col-25" ng-href="#/tab/position-details/{{d.id}}">{{d.productName+d.pamount+d.punit}}</a>
          <a class="col col-20" ng-href="#/tab/position-details/{{d.id}}">{{d.punitprice}}元/手</a>
          <a class="col col-10" ng-href="#/tab/position-details/{{d.id}}" ng-bind="tradeType(d.tradeType)"></a>
          <a class="col col-20" ng-href="#/tab/position-details/{{d.id}}" ng-bind="d.profitOrLoss"></a>
          <a class="col col-5" ng-href="#/tab/position-details/{{d.id}}"></a>

          <div class="col col-20">
            <button ng-click="closeOne(d)" ng-show="my.isClose[$index].flag">平仓</button>
            <button style="background-color: #676767" disabled  ng-show="!my.isClose[$index].flag">已平仓</button>
          </div>
        </div>
      </div>

    </div>

  </ion-content>
</ion-view>

